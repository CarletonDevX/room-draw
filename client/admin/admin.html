<template name="admin">
  <head>
    <title>CarlDraw ADMIN</title>
    <link rel="stylesheet" type="text/css" href="css/admin.css?13">
</head>

<body>
  {{> aheader}}
  {{> amain}}
</body>
</template>

<template name="aheader">
  <div id="header">
    <div class="signout">
      <a href='/sign-out'>Sign Out</a><br>
      <a href='/admin-instructions'>Instructions</a><br><br><br>
      Taken by:&nbsp;<input type="text" id="takenBy" autocomplete="off">
    </div>
    <div class="container">
      <div>
        <span class="left">Live message:</span>
        <span class="right"><input type="text" value="{{liveMessage}}" id="liveMessage" autocomplete="off">
        <button id="clear">Clear</button></span>
      </div>
      <div>
        <span class="left">Last number:</span>
        <span class="right"><input type="text" value="{{lastNum}}" id="lastNum" autocomplete="off">
          <button id="reset">Reset</button></span>
      </div>
      <div>
        <span class="left">Last room:</span>
          <span class="right">{{lastDorm}} room {{lastRoom}}</span>
      </div>
      <button type="button" id="numUp">Up</button>
      <button type="button" id="numDown">Down</button> 
    </div>
  </div>
</template>

<template name="amain">
  <ul class="adorms">
    {{#each dorms}}
      {{> adorm}}
    {{/each}}
  </ul>
</template>

<template name="adorm">
  <li class="adorm">
    <h4>{{name}}</h4>
    <ul class="afloors">
      {{#each floors}}
      <li class="afloor">
        <h4>Floor {{number}}</h4>
        <ul class="arooms">
          {{#each rooms}}
          <li class="aroom {{column}} {{reset}}">
            {{#if isDrawn}}
              <input type="checkbox" id="{{_id}}" checked>
            {{else}}
              <input type="checkbox" id="{{_id}}">
            {{/if}}
            <label for="{{_id}}">{{dormName}} {{name}} ({{size}})</label>
          </li>
          {{/each}}
        </ul>
      </li>
      {{/each}}
    </ul>
  </li>
</template>

